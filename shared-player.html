<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>CraftonCast Shared Player</title>
  <style>
    body {
      margin: 0;
      background-color: black;
      color: white;
      font-family: sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }
    #curtain {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: url('https://craftoncast.github.io/assets/curtain.jpg') center/cover no-repeat;
      z-index: 2;
      animation: fadeOut 3s ease-in-out forwards;
    }
    @keyframes fadeOut {
      0% { opacity: 1; }
      100% { opacity: 0; z-index: -1; }
    }
    iframe {
      width: 90vw;
      height: 70vh;
      border: none;
      z-index: 1;
    }
  </style>
</head>
<body>
  <div id="curtain"></div>
  <iframe id="player" allow="autoplay"></iframe>

  <script>
    const params = new URLSearchParams(window.location.search);
    const platform = params.get("platform") || "Tubi";

    const sources = {
      Tubi: "https://tubitv.com/home",
      Pluto: "https://pluto.tv/en/live-tv",
      Crackle: "https://www.crackle.com/",
      Plex: "https://watch.plex.tv/",
      SoundCloud: "https://soundcloud.com/misscrafton"
    };

    const player = document.getElementById("player");
    player.src = sources[platform] || sources["Tubi"];
  </script>
</body>
</html>
